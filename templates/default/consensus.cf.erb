spectra_tar="spectra.tar";
spectraFiles=getSupportedSpectraFilesFromTar(spectra_tar:spectra_tar);
mzMLFiles=convertSpectraFiles(spectraFile:spectraFiles);
mzMLFiles;





# Convert from mzdata, mzXML, mzML, .., mgf to mzML.
deftask convertSpectraFiles(mzMLFile(File):spectraFile(File)) in bash *{
	FileConverter -in $spectraFile -out $mzMLFile -out_type mzML
}*

# Turn a tar file into a list of spectra files.
deftask getSupportedSpectraFilesFromTar(<spectraFiles(File)>:spectra_tar(File)) in bash *{
	mkdir tmp
	mv $spectra_tar tmp
	cd tmp
	tar xf $spectra_tar
	rm $spectra_tar
	$spectraFiles=`ls`
}*

